// Insights page styles for the participatory space admin panel.

// Selectors — compact inline controls: "Label: [value ▾]"
.insights-selectors {
  @apply flex gap-5 flex-wrap items-center justify-center;

  &__field {
    @apply flex items-center border border-gray-6 rounded-md bg-white overflow-hidden;
  }

  &__label {
    @apply py-2 pl-3 font-semibold text-sm text-gray-2 whitespace-nowrap;

    &::after {
      content: ":";
    }
  }

  &__select {
    @apply py-2 pr-3 bg-transparent text-sm text-gray-2 cursor-pointer outline-none border-none;

    padding-left: 0.375rem;
    appearance: auto;

    &:focus {
      @apply text-gray-4;
    }
  }
}

// Required for nested flex containers in admin layout:
// without this, wide tables force page-level horizontal scroll.
.layout-content:has(.insights-page),
.sidebar-menu__container:has(.insights-page),
.item_show__wrapper:has(.insights-page) {
  min-width: 0;
}

// Pivot table scroll: table grows by content, table-scroll handles overflow.
.insights-pivot-wrapper .table-scroll {
  @apply overflow-x-auto;

  max-width: 100%;
}

.table-scroll .insights-table {
  width: max-content;
  min-width: 100%;
}

// Pivot table alignment and typography.
.insights-table {
  th, td {
    @apply text-center;
  }

  &__row-header,
  &__footer-label {
    @apply text-left pl-2;
  }

  &__grand-total {
    @apply text-right;
  }

  &__row-header {
    @apply text-xs font-semibold;
  }

  &__row-total-header,
  &__row-total,
  &__footer-label,
  &__col-total,
  &__grand-total {
    @apply text-xs font-bold;
  }
}
